---
const currentPath = Astro.url.pathname;

const navLinks = [
  { href: '/', label: 'Home' },
  { href: '/concerts', label: 'Concerts' },
  { href: '/contact', label: 'Contact' },
];

function isActive(href: string): boolean {
  if (href === '/') {
    return currentPath === '/' || currentPath === '';
  }
  // Check if current path starts with the link href (handles trailing slashes and sub-pages)
  return currentPath.startsWith(href);
}
---

<header class="bg-meadow text-white">
  <nav class="max-w-6xl mx-auto px-4 py-4">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
      <a href="/" class="text-2xl font-bold hover:text-warm-light transition-colors">
        Meadowlark Concert Series
      </a>
      <ul class="flex gap-6">
        {navLinks.map(link => (
          <li>
            <a
              href={link.href}
              class:list={[
                "hover:text-warm-light transition-colors",
                isActive(link.href) && "text-warm-light border-b-2 border-warm-light"
              ]}
            >
              {link.label}
            </a>
          </li>
        ))}
      </ul>
    </div>
  </nav>
</header>
